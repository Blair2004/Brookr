(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{WXpJ:function(e,t,n){"use strict";n.r(t),t.default='<app-layout>\n    <div class="mb-4 text-gray-800">\n        <span class="block text-2xl mb-2">Customers</span> \n        <p class="text-sm">Manage available customers</p>\n    </div>\n    <div class="flex w-full">\n        <cb-table \n            (action)="handleAction( $event )" \n            (sort)="handleSort( $event )" \n            (refresh)="handleRefresh( $event )" \n            (page)="handlePagineNavigation( $event )" \n            (search)="handleSearch( $event )"\n            [is-loading]="isLoading"\n            *ngIf="config" [crud]="config" class="w-full"></cb-table>\n        \x3c!-- <app-table (sort)="handleSort( $event )" (search)="handleSearch( $event )" [config]="config"></app-table> --\x3e\n    </div>   \n</app-layout>'},fEG0:function(e,t,n){"use strict";n.r(t),t.default=""},hmQP:function(e,t,n){"use strict";n.r(t),t.default='<app-layout>\n    <div class="mb-2" *ngIf="mode === \'create\'">\n        <p class="text-2xl mb-2 font-serif text-gray-800">Create Customer</p>\n        <p class="text-gray-700">Customers provide loads that are assigned to drivers.</p>\n    </div>\n    <div class="mb-2" *ngIf="mode === \'edit\'">\n        <p class="text-2xl mb-2 font-serif text-gray-800">Edit Customer</p>\n        <p class="text-gray-700">Customers provide loads that are assigned to drivers.</p>\n    </div>\n    <app-tabs *ngIf="form" [form]="form" (submit)="handleSubmit( $event )"></app-tabs>\n</app-layout>'},oUhG:function(e,t,n){"use strict";n.r(t),t.default=""},vfUp:function(e,t,n){"use strict";n.r(t),n.d(t,"CustomersModule",(function(){return C}));var r=n("LoAr"),o=n("WT9V"),a=n("981U"),i=n("qptw"),s=n("8YcR"),c=n("z35L"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},p=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e){return e&&e.__esModule?e:{default:e}},d=function(){function e(e,t,n,r){this.tendoo=e,this.snackbar=t,this.dialog=n,this.router=r,this.isLoading=!1,this.sort={},this.search={},this.page={},this.perPage={per_page:10}}return e.prototype.ngOnInit=function(){var e=this;this.tendoo.crud.getConfig("brookr.customers",u(u(u(u({},this.page),this.search),this.sort),this.perPage)).subscribe((function(t){e.config=t}))},e.prototype.handleAction=function(e){var t=this;"DELETE"===e.menu.type?this.tendoo.crud.delete(e.menu.url.replace("{id}",e.row.id)).subscribe((function(n){t.snackbar.open(n.message,"OK",{duration:3e3}),t.ngOnInit(),t.dialog.getDialogById(e.menu.namespace).close()}),(function(n){t.snackbar.open(n.error.message||"An unexpected error occured","OK",{duration:5e3}),t.dialog.getDialogById(e.menu.namespace).close()})):"GOTO"===e.menu.type&&this.router.navigateByUrl(e.menu.url.replace("{id}",e.row.id))},e.prototype.handleSort=function(e){this.sort=e,this.ngOnInit()},e.prototype.handleSearch=function(e){this.search={search:e},this.ngOnInit()},e.prototype.handleRefresh=function(e){this.ngOnInit()},e.prototype.handlePagineNavigation=function(e){this.perPage={per_page:e.pageSize},this.page={page:e.pageIndex+1},this.ngOnInit()},e.ctorParameters=function(){return[{type:c.b},{type:i.a},{type:s.b},{type:a.b}]},e=f([Object(r.n)({selector:"app-list",template:l(n("WXpJ")).default,styles:[l(n("fEG0")).default]}),p("design:paramtypes",[c.b,i.a,s.b,a.b])],e)}(),h=n("CD38"),b=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e){this.tendoo=e,this.baseUrl=this.tendoo.baseUrl}return e.prototype.createCustomer=function(e){return this.tendoo.post(this.baseUrl+"brookr/customers",e)},e.prototype.updateCustomer=function(e,t){return this.tendoo.put(this.baseUrl+"brookr/customers/"+e,t)},e.prototype.deleteCustomer=function(e){return this.tendoo.delete(this.baseUrl+"brookr/customers/"+e)},e.prototype.getCustomers=function(){return this.tendoo.get(this.baseUrl+"brookr/customers")},e.ctorParameters=function(){return[{type:c.b}]},e=b([Object(r.E)({providedIn:"root"}),m("design:paramtypes",[c.b])],e)}(),y=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},v=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},O=function(e){return e&&e.__esModule?e:{default:e}},R=function(){function e(e,t,n,r,o){var a=this;this.activatedRoute=e,this.tendoo=t,this.customerService=n,this.snackbar=r,this.router=o,this.mode="create",this.activatedRoute.paramMap.subscribe((function(e){e.get("id")&&(a.mode="edit",a.id=e.get("id")),a.tendoo.forms.getPublicForm("brookr.customers"+("edit"===a.mode?"/"+a.id:"")).subscribe((function(e){a.form=e}))}))}return e.prototype.ngOnInit=function(){},e.prototype.handleSubmit=function(e){var t=this;if(this.form.sections.forEach((function(e){return h.a.touchAllFields(e.formGroup)})),this.form.formGroup.invalid)return this.snackbar.open("Unable to prceed the form is not valid","OK",{duration:3e3});this.form.sections.forEach((function(e){return h.a.deactivateFields(e.fields)})),this.id?this.customerService.updateCustomer(this.id,this.form.formGroup.value).subscribe((function(e){t.snackbar.open(e.message,"OK",{duration:3e3}),t.form.sections.forEach((function(e){return h.a.enableFields(e.fields)}))}),(function(e){t.snackbar.open(e.error.message||e.message,"OK",{duration:3e3}),t.form.sections.forEach((function(e){return h.a.enableFields(e.fields)}))})):this.customerService.createCustomer(this.form.formGroup.value).subscribe((function(e){t.snackbar.open(e.message,"OK",{duration:3e3}),t.router.navigateByUrl("/dashboard/customers")}),(function(e){t.snackbar.open(e.error.message||e.message,"OK",{duration:3e3}),t.form.sections.forEach((function(e){return h.a.enableFields(e.fields)}))}))},e.ctorParameters=function(){return[{type:a.a},{type:c.b},{type:g},{type:i.a},{type:a.b}]},e=y([Object(r.n)({selector:"app-manage",template:O(n("hmQP")).default,styles:[O(n("oUhG")).default]}),v("design:paramtypes",[a.a,c.b,g,i.a,a.b])],e)}(),j=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},P=[{path:"",component:d},{path:"create",component:R},{path:"edit/:id",component:R}],k=function(){function e(){}return e=j([Object(r.M)({imports:[a.c.forChild(P)],exports:[a.c]})],e)}(),x=n("428I"),w=function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},C=function(){function e(){}return e=w([Object(r.M)({declarations:[R,d],imports:[o.c,k,x.a]})],e)}()}}]);